(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

var _stories = require('./util/stories.js');

var _stories2 = _interopRequireDefault(_stories);

var _cat = require('./util/cat.js');

var _cat2 = _interopRequireDefault(_cat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// 'use strict';

var a = axios.create({
	// baseURL: window._burl // set in HTML via wordpress
	baseURL: 'http://doe.concordia.ca/cslp/wp-json/wp/v2/' // development
	// baseURL: 'http://10.106.133.138/~mheming/resources/wp-json/wp/v2/'
});

// app state
var state = {};
state.drillLevel = 0;
state.active = 'none';
state.levelstring = '';
state.themeID = null; // for further caching. Implement later!
state.backone = function () {
	this.drillLevel -= 1;
	console.log('state.drillLevel: ', state.drillLevel);
	if (this.drillLevel <= 0) {
		document.getElementById('drilldown').setAttribute('data-active', 'none');
		document.getElementById('stories__by-cat').className = 'selected';
	}
	if (this.drillLevel == 1) {
		document.getElementById('cat-meta').className = '';
		document.getElementById('story').className = 'hidden';
	}
};
state.hidemeta = function () {
	document.querySelectorAll('.stories-meta')[0].className = 'stories-meta hidden';
};

var categsContainer = document.getElementById('stories__by-cat');
var categItems = categsContainer.querySelectorAll('.category-card');
document.getElementById('cat-meta').className = 'hidden';

var d = document.getElementById('drilldown');

// implement the logic on each Category Item
categItems.forEach(function (item) {
	item.addEventListener('click', function (e) {
		e.preventDefault();
		var ID = item.getAttribute('data-cat');

		if (!_cat2.default.isCached(ID)) {
			_cat2.default.get(ID, a, function (data) {
				console.log('retrieved live data: ID #' + ID);
				state.levelstring = 'By category > ' + data.name;
				_cat2.default.setDOM(data, state, _stories2.default, a);
			});
		} else {
			var data = JSON.parse(localStorage.getItem('abra_ac' + ID));
			console.log('retrieved cached data: ID #' + ID);
			state.levelstring = 'By category > ' + data.name;
			_cat2.default.setDOM(data, state, _stories2.default, a);
		}
		categsContainer.className = '';
		d.setAttribute('data-active', 'cat');
	});
});

document.getElementById('back-button').addEventListener('click', function () {
	state.backone();
});

},{"./util/cat.js":2,"./util/stories.js":3}],2:[function(require,module,exports){
'use strict';

module.exports = {
	isCached: function isCached(ID) {
		return localStorage.getItem('abra_ac' + ID) ? true : false;
	},

	cache: function cache(data) {
		localStorage.setItem('abra_ac' + data.id, JSON.stringify(data));
	},

	get: function get(catID, axios, callback) {
		var _this = this;

		axios.get('activity_cat/' + catID).then(function (response) {
			_this.cache(response.data);
			callback(response.data);
		}).catch('error', function (error) {
			console.warn(error);
			return null;
		});
	},

	setDOM: function setDOM(cat, state, story, axios) {
		// set the element to visible
		//
		var c = document.getElementById('cat-meta');
		state.drillLevel = 1; // not implemented
		document.getElementById('cat-meta').className = '';
		document.getElementById('story').className = 'hidden';

		console.log('cat: ', cat);

		// set meta description
		c.querySelectorAll('#cat-meta__header h2')[0].innerHTML = cat.name;
		c.querySelectorAll('#cat-meta__header span')[0].innerHTML = state.levelstring;
		document.getElementById('cat-meta__content').innerHTML = cat.description;

		// set async
		setTimeout( //  + '&fields=id,title,stories_description' :(
		story.getRelatedStories('activity?activity_cat=' + cat.id, function (stories) {
			var list = document.getElementById('cat-meta__list');
			list.className = 'isRefreshing';
			list.innerHTML = '';

			// create story previews

			var _loop = function _loop() {
				var s = stories[i];

				var el = document.createElement('div');
				el.className = 'story';
				el.setAttribute('data-story', s.id);
				el.innerHTML = '<h3>' + s.title.rendered + '</h3>' + '<p>' + s.stories_description + '</p>' + '<p class="meta"><b>Level:</b> ' + story.level(s.story_level) + '</p>';

				document.getElementById('cat-meta__list').appendChild(el);

				el.addEventListener('click', function () {
					state.drillLevel += 1;
					story.showStory(s, state);
					story.getActivityIcon(s.id, axios);
					story.getStoriesInCat('', function (data) {}, axios);
				});
			};

			for (var i = stories.length - 1; i >= 0; i--) {
				_loop();
			}
			list.className = '';
		}, axios), 0);
	}
};

},{}],3:[function(require,module,exports){
'use strict';

// Should technically be 'activity'

module.exports = {
	// Story Functions
	getRelatedStories: function getRelatedStories(query, callback, axios) {
		axios.get(query).then(function (res) {
			callback(res.data);
		}).catch('error', function (e) {
			console.warn(e);
		});
	},

	showStory: function showStory(a, state) {
		document.getElementById('cat-meta').className = 'hidden';

		var s = document.getElementById('story');
		s.className = '';
		document.getElementById('story-title').innerHTML = a.title.rendered;
		s.querySelectorAll('header span')[0].innerHTML = state.levelstring + ' > ' + a.title.rendered;

		document.getElementById('a-overview-c').innerHTML = '<h4>Overview</h4>' + a.activity_description_activity_objective;
		document.getElementById('a-gfa-c').innerHTML = '<h4>Group Facilitation Tips</h4>' + a.activity_description_activity_gfa;
		if (a.activity_description_activity_has_insights) {}

		document.getElementById('a-level-c').innerHTML = '<h4>Levels</h4>' + a.activity_description_activity_level;

		document.getElementById('activity-video-container').innerHTML = this.makeEmbedLink(a.activity_video);

		console.log('activity: ', a);
	},

	/**
  * Returns the strig associated with each level
  * @param  {int} int [the story's level]
  * @return {string}  [corresponding level]
  */
	level: function level(int) {
		var i = parseInt(int);
		switch (i) {
			case 1:
				return 'Beginner';
			case 2:
				return 'Easy';
			case 3:
				return 'Average';
			case 4:
				return 'Advanced';
			case 5:
				return 'Expert';
		}
	},
	makeTabContainer: function makeTabContainer(data) {},
	getActivityIcon: function getActivityIcon(query, axios) {
		axios.get('media?parent=' + query).then(function (res) {
			document.getElementById('activity-icon').innerHTML = '<img src="' + res.data[0].media_details.sizes.thumbnail.source_url + '" alt="' + res.data[0].alt_text + '">';
		}).catch('error', function (e) {
			return console.warn(e);
		});
	},
	getStoriesInCat: function getStoriesInCat(query, callback, axios) {
		axios.get(query).then(function (res) {
			callback(res.data);
		}).catch('error', function (e) {
			console.warn(e);
		});
	},
	makeEmbedLink: function makeEmbedLink(link) {
		var regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
		var match = link.match(regExp);

		if (match && match[2].length != 11) {
			return 'error';
		}

		var embed = '<iframe width="560" height="315" src="//www.youtube.com/embed/';
		return embed + match[2] + '" frameborder="0" allowfullscreen></iframe>';
	}
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9hY3Rpdml0aWVzL2FjdGl2aXRpZXMuanMiLCJzcmMvc2NyaXB0cy9hY3Rpdml0aWVzL3V0aWwvY2F0LmpzIiwic3JjL3NjcmlwdHMvYWN0aXZpdGllcy91dGlsL3N0b3JpZXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0VBOzs7O0FBQ0E7Ozs7OztBQUhBOztBQU1BLElBQU0sSUFBSSxNQUFNLE1BQU4sQ0FBYTtBQUN0QjtBQUNBLFVBQVMsNkNBRmEsQ0FFaUM7QUFDdkQ7QUFIc0IsQ0FBYixDQUFWOztBQU1BO0FBQ0EsSUFBTSxRQUFRLEVBQWQ7QUFDQSxNQUFNLFVBQU4sR0FBbUIsQ0FBbkI7QUFDQSxNQUFNLE1BQU4sR0FBZSxNQUFmO0FBQ0EsTUFBTSxXQUFOLEdBQW9CLEVBQXBCO0FBQ0EsTUFBTSxPQUFOLEdBQWdCLElBQWhCLEMsQ0FBcUI7QUFDckIsTUFBTSxPQUFOLEdBQWdCLFlBQVk7QUFDM0IsTUFBSyxVQUFMLElBQW1CLENBQW5CO0FBQ0EsU0FBUSxHQUFSLENBQVksb0JBQVosRUFBa0MsTUFBTSxVQUF4QztBQUNBLEtBQUksS0FBSyxVQUFMLElBQW1CLENBQXZCLEVBQTBCO0FBQ3pCLFdBQVMsY0FBVCxDQUF3QixXQUF4QixFQUFxQyxZQUFyQyxDQUFrRCxhQUFsRCxFQUFpRSxNQUFqRTtBQUNBLFdBQVMsY0FBVCxDQUF3QixpQkFBeEIsRUFBMkMsU0FBM0MsR0FBdUQsVUFBdkQ7QUFDQTtBQUNELEtBQUksS0FBSyxVQUFMLElBQW1CLENBQXZCLEVBQTBCO0FBQ3pCLFdBQVMsY0FBVCxDQUF3QixVQUF4QixFQUFvQyxTQUFwQyxHQUFnRCxFQUFoRDtBQUNBLFdBQVMsY0FBVCxDQUF3QixPQUF4QixFQUFpQyxTQUFqQyxHQUE2QyxRQUE3QztBQUNBO0FBRUQsQ0FaRDtBQWFBLE1BQU0sUUFBTixHQUFpQixZQUFZO0FBQzVC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QUFnQyxTQUFoQyxDQUEwQyxVQURTLEdBRW5ELFNBRm1ELEdBR25ELElBQUksSUFBSixDQUFTLENBQVQsRUFBWSxRQUh1QyxHQUluRCxJQUpGO0FBS0EsR0FORCxFQU1HLEtBTkgsQ0FNUyxPQU5ULEVBTWtCO0FBQUEsVUFBSyxRQUFRLElBQVIsQ0FBYSxDQUFiLENBQUw7QUFBQSxHQU5sQjtBQU9BLEVBeERlO0FBMERoQixnQkExRGdCLDJCQTBEQyxLQTFERCxFQTBEUSxRQTFEUixFQTBEa0IsS0ExRGxCLEVBMER5QjtBQUN4QyxRQUFNLEdBQU4sQ0FBVSxLQUFWLEVBQWlCLElBQWpCLENBQXNCLFVBQVMsR0FBVCxFQUFjO0FBQ25DLFlBQVMsSUFBSSxJQUFiO0FBQ0EsR0FGRCxFQUVHLEtBRkgsQ0FFUyxPQUZULEVBRWtCLFVBQVUsQ0FBVixFQUFhO0FBQUMsV0FBUSxJQUFSLENBQWEsQ0FBYjtBQUFnQixHQUZoRDtBQUdBLEVBOURlO0FBZ0VoQixjQWhFZ0IseUJBZ0VGLElBaEVFLEVBZ0VJO0FBQ2pCLE1BQUksU0FBUyxpRUFBYjtBQUNBLE1BQUksUUFBUSxLQUFLLEtBQUwsQ0FBVyxNQUFYLENBQVo7O0FBRUEsTUFBSSxTQUFTLE1BQU0sQ0FBTixFQUFTLE1BQVQsSUFBbUIsRUFBaEMsRUFBb0M7QUFDbEMsVUFBTyxPQUFQO0FBQ0Q7O0FBRUgsTUFBSSxRQUFRLGdFQUFaO0FBQ0EsU0FBTyxRQUFRLE1BQU0sQ0FBTixDQUFSLEdBQW1CLDZDQUExQjtBQUNBO0FBMUVlLENBQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLy8gJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgc3RvcnkgZnJvbSAnLi91dGlsL3N0b3JpZXMuanMnXG5pbXBvcnQgY2F0ZWcgZnJvbSAnLi91dGlsL2NhdC5qcydcblxuXG5jb25zdCBhID0gYXhpb3MuY3JlYXRlKHtcblx0Ly8gYmFzZVVSTDogd2luZG93Ll9idXJsIC8vIHNldCBpbiBIVE1MIHZpYSB3b3JkcHJlc3Ncblx0YmFzZVVSTDogJ2h0dHA6Ly9kb2UuY29uY29yZGlhLmNhL2NzbHAvd3AtanNvbi93cC92Mi8nIC8vIGRldmVsb3BtZW50XG5cdC8vIGJhc2VVUkw6ICdodHRwOi8vMTAuMTA2LjEzMy4xMzgvfm1oZW1pbmcvcmVzb3VyY2VzL3dwLWpzb24vd3AvdjIvJ1xufSlcblxuLy8gYXBwIHN0YXRlXG5jb25zdCBzdGF0ZSA9IHt9XG5zdGF0ZS5kcmlsbExldmVsID0gMFxuc3RhdGUuYWN0aXZlID0gJ25vbmUnXG5zdGF0ZS5sZXZlbHN0cmluZyA9ICcnXG5zdGF0ZS50aGVtZUlEID0gbnVsbCAvLyBmb3IgZnVydGhlciBjYWNoaW5nLiBJbXBsZW1lbnQgbGF0ZXIhXG5zdGF0ZS5iYWNrb25lID0gZnVuY3Rpb24gKCkge1xuXHR0aGlzLmRyaWxsTGV2ZWwgLT0gMVxuXHRjb25zb2xlLmxvZygnc3RhdGUuZHJpbGxMZXZlbDogJywgc3RhdGUuZHJpbGxMZXZlbClcblx0aWYgKHRoaXMuZHJpbGxMZXZlbCA8PSAwKSB7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyaWxsZG93bicpLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCAnbm9uZScpXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3JpZXNfX2J5LWNhdCcpLmNsYXNzTmFtZSA9ICdzZWxlY3RlZCdcblx0fVxuXHRpZiAodGhpcy5kcmlsbExldmVsID09IDEpIHtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0LW1ldGEnKS5jbGFzc05hbWUgPSAnJ1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9yeScpLmNsYXNzTmFtZSA9ICdoaWRkZW4nXG5cdH1cblxufVxuc3RhdGUuaGlkZW1ldGEgPSBmdW5jdGlvbiAoKSB7XG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdG9yaWVzLW1ldGEnKVswXS5jbGFzc05hbWUgPSAnc3Rvcmllcy1tZXRhIGhpZGRlbidcbn1cblxuY29uc3QgY2F0ZWdzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3JpZXNfX2J5LWNhdCcpXG5jb25zdCBjYXRlZ0l0ZW1zID0gY2F0ZWdzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXRlZ29yeS1jYXJkJylcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXQtbWV0YScpLmNsYXNzTmFtZSA9ICdoaWRkZW4nXG5cbmNvbnN0IGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJpbGxkb3duJyk7XG5cbi8vIGltcGxlbWVudCB0aGUgbG9naWMgb24gZWFjaCBDYXRlZ29yeSBJdGVtXG5jYXRlZ0l0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcblx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KClcblx0XHRsZXQgSUQgPSBpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXQnKVxuXG5cblx0XHRpZiAoIWNhdGVnLmlzQ2FjaGVkKElEKSkge1xuXHRcdFx0Y2F0ZWcuZ2V0KElELCBhLCBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZygncmV0cmlldmVkIGxpdmUgZGF0YTogSUQgIycgKyBJRClcblx0XHRcdFx0c3RhdGUubGV2ZWxzdHJpbmcgPSAnQnkgY2F0ZWdvcnkgPiAnICsgZGF0YS5uYW1lXG5cdFx0XHRcdGNhdGVnLnNldERPTShkYXRhLCBzdGF0ZSwgc3RvcnksIGEpXG5cdFx0XHR9KVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRsZXQgZGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FicmFfYWMnK0lEKSlcblx0XHRcdGNvbnNvbGUubG9nKCdyZXRyaWV2ZWQgY2FjaGVkIGRhdGE6IElEICMnICsgSUQpXG5cdFx0XHRzdGF0ZS5sZXZlbHN0cmluZyA9ICdCeSBjYXRlZ29yeSA+ICcgKyBkYXRhLm5hbWVcblx0XHRcdGNhdGVnLnNldERPTShkYXRhLCBzdGF0ZSwgc3RvcnksIGEpXG5cdFx0fVxuXHRcdGNhdGVnc0NvbnRhaW5lci5jbGFzc05hbWUgPSAnJztcblx0XHRkLnNldEF0dHJpYnV0ZSgnZGF0YS1hY3RpdmUnLCAnY2F0Jylcblx0fSlcbn0pXG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrLWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHRzdGF0ZS5iYWNrb25lKCk7XG59KSIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRpc0NhY2hlZDogZnVuY3Rpb24gKElEKSB7XG5cdFx0cmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhYnJhX2FjJyArIElEKSA/IHRydWUgOiBmYWxzZVxuXHR9LFxuXG5cdGNhY2hlOiBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhYnJhX2FjJyArIGRhdGEuaWQsIEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuXHR9LFxuXG5cdGdldDogZnVuY3Rpb24gKGNhdElELCBheGlvcywgY2FsbGJhY2spIHtcblx0XHRheGlvcy5nZXQoJ2FjdGl2aXR5X2NhdC8nICsgY2F0SUQpLnRoZW4oIHJlc3BvbnNlID0+IHtcblx0XHRcdHRoaXMuY2FjaGUocmVzcG9uc2UuZGF0YSlcblx0XHRcdGNhbGxiYWNrKHJlc3BvbnNlLmRhdGEpXG5cdFx0fSkuY2F0Y2goJ2Vycm9yJywgZnVuY3Rpb24gKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oZXJyb3IpXG5cdFx0XHRyZXR1cm4gbnVsbFxuXHRcdH0pXG5cdH0sXG5cblx0c2V0RE9NOiBmdW5jdGlvbiAoY2F0LCBzdGF0ZSwgc3RvcnksIGF4aW9zKSB7XG5cdFx0Ly8gc2V0IHRoZSBlbGVtZW50IHRvIHZpc2libGVcblx0XHQvL1xuXHRcdGNvbnN0IGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0LW1ldGEnKVxuXHRcdHN0YXRlLmRyaWxsTGV2ZWwgPSAxIC8vIG5vdCBpbXBsZW1lbnRlZFxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXQtbWV0YScpLmNsYXNzTmFtZSA9ICcnXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3J5JykuY2xhc3NOYW1lID0gJ2hpZGRlbidcblxuXHRcdGNvbnNvbGUubG9nKCdjYXQ6ICcsIGNhdCk7XG5cblx0XHQvLyBzZXQgbWV0YSBkZXNjcmlwdGlvblxuXHRcdGMucXVlcnlTZWxlY3RvckFsbCgnI2NhdC1tZXRhX19oZWFkZXIgaDInKVswXS5pbm5lckhUTUwgPSBjYXQubmFtZVxuXHRcdGMucXVlcnlTZWxlY3RvckFsbCgnI2NhdC1tZXRhX19oZWFkZXIgc3BhbicpWzBdLmlubmVySFRNTCA9IHN0YXRlLmxldmVsc3RyaW5nXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdC1tZXRhX19jb250ZW50JykuaW5uZXJIVE1MID0gY2F0LmRlc2NyaXB0aW9uXG5cblx0XHQvLyBzZXQgYXN5bmNcblx0XHRzZXRUaW1lb3V0KCAvLyAgKyAnJmZpZWxkcz1pZCx0aXRsZSxzdG9yaWVzX2Rlc2NyaXB0aW9uJyA6KFxuXHRcdFx0c3RvcnkuZ2V0UmVsYXRlZFN0b3JpZXMoJ2FjdGl2aXR5P2FjdGl2aXR5X2NhdD0nICsgY2F0LmlkLCBmdW5jdGlvbiAoc3Rvcmllcykge1xuXHRcdFx0XHR2YXIgbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXQtbWV0YV9fbGlzdCcpXG5cdFx0XHRcdGxpc3QuY2xhc3NOYW1lID0gJ2lzUmVmcmVzaGluZydcblx0XHRcdFx0bGlzdC5pbm5lckhUTUwgPSAnJ1xuXG5cdFx0XHRcdC8vIGNyZWF0ZSBzdG9yeSBwcmV2aWV3c1xuXHRcdFx0XHRmb3IgKHZhciBpID0gc3Rvcmllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdGxldCBzID0gc3Rvcmllc1tpXVxuXG5cdFx0XHRcdFx0bGV0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jylcblx0XHRcdFx0XHRlbC5jbGFzc05hbWUgPSAnc3RvcnknXG5cdFx0XHRcdFx0ZWwuc2V0QXR0cmlidXRlKCdkYXRhLXN0b3J5Jywgcy5pZClcblx0XHRcdFx0XHRlbC5pbm5lckhUTUwgPSAnPGgzPicgKyBzLnRpdGxlLnJlbmRlcmVkICsgJzwvaDM+J1xuXHRcdFx0XHRcdCsgJzxwPicgKyBzLnN0b3JpZXNfZGVzY3JpcHRpb24gKyAnPC9wPidcblx0XHRcdFx0XHQrICc8cCBjbGFzcz1cIm1ldGFcIj48Yj5MZXZlbDo8L2I+ICcgKyBzdG9yeS5sZXZlbChzLnN0b3J5X2xldmVsKSArICc8L3A+JztcblxuXHRcdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXQtbWV0YV9fbGlzdCcpLmFwcGVuZENoaWxkKGVsKVxuXG5cdFx0XHRcdFx0ZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRzdGF0ZS5kcmlsbExldmVsICs9IDFcblx0XHRcdFx0XHRcdHN0b3J5LnNob3dTdG9yeShzLCBzdGF0ZSlcblx0XHRcdFx0XHRcdHN0b3J5LmdldEFjdGl2aXR5SWNvbihzLmlkLCBheGlvcylcblx0XHRcdFx0XHRcdHN0b3J5LmdldFN0b3JpZXNJbkNhdCgnJywgKGRhdGEpID0+IHtcblxuXHRcdFx0XHRcdFx0fSwgYXhpb3MpXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LmNsYXNzTmFtZSA9ICcnXG5cdFx0XHR9LCBheGlvc1xuXHRcdCksIDApXG5cblx0fVxufSIsIi8vIFNob3VsZCB0ZWNobmljYWxseSBiZSAnYWN0aXZpdHknXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHQvLyBTdG9yeSBGdW5jdGlvbnNcblx0Z2V0UmVsYXRlZFN0b3JpZXM6IGZ1bmN0aW9uIChxdWVyeSwgY2FsbGJhY2ssIGF4aW9zKSB7XG5cdFx0YXhpb3MuZ2V0KHF1ZXJ5KS50aGVuKGZ1bmN0aW9uKHJlcykge1xuXHRcdFx0Y2FsbGJhY2socmVzLmRhdGEpXG5cdFx0fSkuY2F0Y2goJ2Vycm9yJywgZnVuY3Rpb24gKGUpIHtjb25zb2xlLndhcm4oZSl9KVxuXHR9LFxuXG5cdHNob3dTdG9yeTogZnVuY3Rpb24gKGEsIHN0YXRlKSB7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdC1tZXRhJykuY2xhc3NOYW1lID0gJ2hpZGRlbidcblxuXHRcdGNvbnN0IHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RvcnknKVxuXHRcdHMuY2xhc3NOYW1lID0gJydcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RvcnktdGl0bGUnKS5pbm5lckhUTUwgPSBhLnRpdGxlLnJlbmRlcmVkXG5cdFx0cy5xdWVyeVNlbGVjdG9yQWxsKCdoZWFkZXIgc3BhbicpWzBdLmlubmVySFRNTCA9IHN0YXRlLmxldmVsc3RyaW5nICsgJyA+ICcgKyBhLnRpdGxlLnJlbmRlcmVkXG5cblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYS1vdmVydmlldy1jJykuaW5uZXJIVE1MID0gJzxoND5PdmVydmlldzwvaDQ+JyArIGEuYWN0aXZpdHlfZGVzY3JpcHRpb25fYWN0aXZpdHlfb2JqZWN0aXZlXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2EtZ2ZhLWMnKS5pbm5lckhUTUwgPSAnPGg0Pkdyb3VwIEZhY2lsaXRhdGlvbiBUaXBzPC9oND4nICsgYS5hY3Rpdml0eV9kZXNjcmlwdGlvbl9hY3Rpdml0eV9nZmFcblx0XHRpZiAoYS5hY3Rpdml0eV9kZXNjcmlwdGlvbl9hY3Rpdml0eV9oYXNfaW5zaWdodHMpIHtcblxuXHRcdH1cblxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhLWxldmVsLWMnKS5pbm5lckhUTUwgPSAnPGg0PkxldmVsczwvaDQ+JyArIGEuYWN0aXZpdHlfZGVzY3JpcHRpb25fYWN0aXZpdHlfbGV2ZWxcblxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3Rpdml0eS12aWRlby1jb250YWluZXInKS5pbm5lckhUTUwgPSB0aGlzLm1ha2VFbWJlZExpbmsoYS5hY3Rpdml0eV92aWRlbylcblxuXHRcdGNvbnNvbGUubG9nKCdhY3Rpdml0eTogJywgYSk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIHN0cmlnIGFzc29jaWF0ZWQgd2l0aCBlYWNoIGxldmVsXG5cdCAqIEBwYXJhbSAge2ludH0gaW50IFt0aGUgc3RvcnkncyBsZXZlbF1cblx0ICogQHJldHVybiB7c3RyaW5nfSAgW2NvcnJlc3BvbmRpbmcgbGV2ZWxdXG5cdCAqL1xuXHRsZXZlbChpbnQpIHtcblx0XHRsZXQgaSA9IHBhcnNlSW50KGludClcblx0XHRzd2l0Y2goaSkge1xuXHRcdFx0Y2FzZSAxOiByZXR1cm4gJ0JlZ2lubmVyJ1xuXHRcdFx0Y2FzZSAyOiByZXR1cm4gJ0Vhc3knXG5cdFx0XHRjYXNlIDM6IHJldHVybiAnQXZlcmFnZSdcblx0XHRcdGNhc2UgNDogcmV0dXJuICdBZHZhbmNlZCdcblx0XHRcdGNhc2UgNTogcmV0dXJuICdFeHBlcnQnXG5cdFx0fVxuXHR9LFxuXG5cdG1ha2VUYWJDb250YWluZXIoZGF0YSkge1xuXHR9LFxuXG5cdGdldEFjdGl2aXR5SWNvbiAocXVlcnksIGF4aW9zKSB7XG5cdFx0YXhpb3MuZ2V0KCdtZWRpYT9wYXJlbnQ9JyArIHF1ZXJ5KS50aGVuKChyZXMpID0+IHtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3Rpdml0eS1pY29uJykuaW5uZXJIVE1MID0gJzxpbWcgc3JjPVwiJ1xuXHRcdFx0KyByZXMuZGF0YVswXS5tZWRpYV9kZXRhaWxzLnNpemVzLnRodW1ibmFpbC5zb3VyY2VfdXJsXG5cdFx0XHQrICdcIiBhbHQ9XCInXG5cdFx0XHQrIHJlcy5kYXRhWzBdLmFsdF90ZXh0XG5cdFx0XHQrICdcIj4nXG5cdFx0fSkuY2F0Y2goJ2Vycm9yJywgZSA9PiBjb25zb2xlLndhcm4oZSkpXG5cdH0sXG5cblx0Z2V0U3Rvcmllc0luQ2F0IChxdWVyeSwgY2FsbGJhY2ssIGF4aW9zKSB7XG5cdFx0YXhpb3MuZ2V0KHF1ZXJ5KS50aGVuKGZ1bmN0aW9uKHJlcykge1xuXHRcdFx0Y2FsbGJhY2socmVzLmRhdGEpXG5cdFx0fSkuY2F0Y2goJ2Vycm9yJywgZnVuY3Rpb24gKGUpIHtjb25zb2xlLndhcm4oZSl9KVxuXHR9LFxuXG5cdG1ha2VFbWJlZExpbmsobGluaykge1xuICAgIGxldCByZWdFeHAgPSAvXi4qKHlvdXR1LmJlXFwvfHZcXC98dVxcL1xcd1xcL3xlbWJlZFxcL3x3YXRjaFxcP3Y9fFxcJnY9KShbXiNcXCZcXD9dKikuKi87XG4gICAgbGV0IG1hdGNoID0gbGluay5tYXRjaChyZWdFeHApO1xuXG4gICAgaWYgKG1hdGNoICYmIG1hdGNoWzJdLmxlbmd0aCAhPSAxMSkge1xuICAgICAgcmV0dXJuICdlcnJvcic7XG4gICAgfVxuXG5cdFx0bGV0IGVtYmVkID0gJzxpZnJhbWUgd2lkdGg9XCI1NjBcIiBoZWlnaHQ9XCIzMTVcIiBzcmM9XCIvL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8nXG5cdFx0cmV0dXJuIGVtYmVkICsgbWF0Y2hbMl0gKyAnXCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPidcblx0fVxufSJdfQ==
