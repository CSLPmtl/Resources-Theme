!function(){return function e(t,n,a){function r(c,l){if(!n[c]){if(!t[c]){var o="function"==typeof require&&require;if(!l&&o)return o(c,!0);if(s)return s(c,!0);var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}var d=n[c]={exports:{}};t[c][0].call(d.exports,function(e){return r(t[c][1][e]||e)},d,d.exports,e,t,n,a)}return n[c].exports}for(var s="function"==typeof require&&require,c=0;c<a.length;c++)r(a[c]);return r}}()({1:[function(e,t,n){t.exports={default:e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":2}],2:[function(e,t,n){var a=e("../../modules/_core"),r=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(e){return r.stringify.apply(r,arguments)}},{"../../modules/_core":3}],3:[function(e,t,n){var a=t.exports={version:"2.5.6"};"number"==typeof __e&&(__e=a)},{}],4:[function(e,t,n){"use strict";var a=c(e("./util/theme.js")),r=c(e("./util/stories.js")),s=c(e("./util/cat.js"));function c(e){return e&&e.__esModule?e:{default:e}}var l=axios.create({baseURL:"http://10.106.133.138/~mheming/resources/wp-json/wp/v2/"}),o=document.getElementById("a"),i=!o.checked,d={drillLevel:0,active:"none",levelstring:"",themeID:null,backone:function(){this.drillLevel-=1,console.log("state.drillLevel: ",d.drillLevel)},hidemeta:function(){document.querySelectorAll(".stories-meta")[0].className="stories-meta hidden"}},u=document.getElementById("stories__by-theme"),m=document.getElementById("stories__by-cat"),f=u.querySelectorAll(".theme-card"),g=m.querySelectorAll(".category-card");document.getElementById("cat-meta").className="hidden",document.getElementById("theme-meta").className="hidden";var y=document.getElementById("drilldown");o.addEventListener("click",function(){(i=!o.checked)?(u.className="",m.className="selected"):(u.className="selected",m.className=""),document.getElementById("cat-meta").className="hidden",document.getElementById("theme-meta").className="hidden",document.getElementById("story").className="hidden"}),i?(u.className="",m.className="selected"):(u.className="selected",m.className=""),f.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.getAttribute("data-theme");if(a.default.isCached(n)){var s=JSON.parse(localStorage.getItem("t"+n));console.log("retrieved cached data: ID #"+n),a.default.setDOM(s,d,r.default,l)}else a.default.get(n,l,function(e){console.log("retrieved live data: ID #"+n),a.default.setDOM(e,d,r.default,l)});u.className="",y.setAttribute("data-active","theme")})}),g.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.getAttribute("data-cat");if(s.default.isCached(n)){var a=JSON.parse(localStorage.getItem("c"+n));console.log("retrieved cached data: ID #"+n),d.levelstring="By category > "+a.name,s.default.setDOM(a,d,r.default,l)}else s.default.get(n,l,function(e){console.log("retrieved live data: ID #"+n),d.levelstring="By category > "+e.name,s.default.setDOM(e,d,r.default,l)});m.className="",y.setAttribute("data-active","cat")})})},{"./util/cat.js":5,"./util/stories.js":6,"./util/theme.js":7}],5:[function(e,t,n){"use strict";var a,r=e("babel-runtime/core-js/json/stringify"),s=(a=r)&&a.__esModule?a:{default:a};t.exports={isCached:function(e){return!!localStorage.getItem("c"+e)},cache:function(e){localStorage.setItem("c"+e.id,(0,s.default)(e))},get:function(e,t,n){var a=this;t.get("categories/"+e).then(function(e){a.cache(e.data),n(e.data)}).catch("error",function(e){return console.warn(e),null})},setDOM:function(e,t,n,a){var r=document.getElementById("cat-meta");t.drillLevel=1,document.getElementById("cat-meta").className="",document.getElementById("theme-meta").className="hidden",document.getElementById("story").className="hidden",console.log("state: ",t),r.querySelectorAll("#cat-meta__header h2")[0].innerHTML=e.name,r.querySelectorAll("#cat-meta__header span")[0].innerHTML=t.levelstring,document.getElementById("cat-meta__content").innerHTML=e.description,setTimeout(n.getRelatedStories("story?categories="+e.id,function(e){var a=document.getElementById("cat-meta__list");a.className="isRefreshing",a.innerHTML="";for(var r=function(){var a=e[s],r=document.createElement("div");r.className="story",r.setAttribute("data-story",a.id),r.innerHTML="<h3>"+a.title.rendered+"</h3><p>"+a.stories_description+'</p><p class="meta"><b>Level:</b> '+n.level(a.story_level)+"</p>",document.getElementById("cat-meta__list").appendChild(r),r.addEventListener("click",function(){n.showStory(a,t)})},s=e.length-1;s>=0;s--)r();a.className=""},a),0)}}},{"babel-runtime/core-js/json/stringify":1}],6:[function(e,t,n){"use strict";t.exports={getRelatedStories:function(e,t,n){n.get(e).then(function(e){t(e.data)}).catch("error",function(e){console.warn(e)})},showStory:function(e,t){document.getElementById("cat-meta").className="hidden",document.getElementById("theme-meta").className="hidden";var n=document.getElementById("story");n.className="",document.getElementById("story-title").innerHTML=e.title.rendered,n.querySelectorAll("header span")[0].innerHTML=t.levelstring+" > "+e.title.rendered,document.getElementById("story__body-desc").innerHTML=e.stories_description,document.getElementById("story__body-res").innerHTML=e.stories_resources,console.log("story: ",e)},level:function(e){switch(parseInt(e)){case 1:return"Beginner";case 2:return"Easy";case 3:return"Average";case 4:return"Advanced";case 5:return"Expert"}}}},{}],7:[function(e,t,n){"use strict";var a,r=e("babel-runtime/core-js/json/stringify"),s=(a=r)&&a.__esModule?a:{default:a};t.exports={isCached:function(e){return!!localStorage.getItem("t"+e)},cache:function(e){localStorage.setItem("t"+e.id,(0,s.default)(e))},get:function(e,t,n){var a=this;t.get("tags/"+e).then(function(e){a.cache(e.data),n(e.data)}).catch("error",function(e){return console.warn(e),null})},setDOM:function(e,t,n,a){var r=document.getElementById("theme-meta");t.drillLevel=1,document.getElementById("cat-meta").className="hidden",document.getElementById("theme-meta").className="",document.getElementById("story").className="hidden",r.querySelectorAll("#theme-meta__header h2")[0].innerHTML=e.name,r.querySelectorAll("#theme-meta__header span")[0].innerHTML=t.levelstring,document.getElementById("theme-meta__content").innerHTML=e.description,setTimeout(n.getRelatedStories("story?tags="+e.id,function(e){var a=document.getElementById("theme-meta__list");a.className="isRefreshing",a.innerHTML="";for(var r=function(){var a=e[s],r=document.createElement("div");r.className="story",r.setAttribute("data-story",a.id),r.innerHTML="<h3>"+a.title.rendered+"</h3><p>"+a.stories_description+'</p><p class="meta"><b>Level:</b> '+n.level(a.story_level)+"</p>",document.getElementById("theme-meta__list").appendChild(r),r.addEventListener("click",function(){n.showStory(a,t)})},s=e.length-1;s>=0;s--)r();a.className=""},a),0)}}},{"babel-runtime/core-js/json/stringify":1}]},{},[4]);