{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/scripts/common/menu.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","container","button","menu","links","len","document","getElementById","querySelectorAll","getElementsByTagName","setAttribute","className","indexOf","onclick","replace","addEventListener","toggleFocus","didScroll","lastScrollTop","navbarHeight","getBoundingClientRect","height","window","setInterval","st","pageYOffset","Math","abs","classList","remove","add","innerHeight","documentElement","offsetHeight","hasScrolled","touchStartFn","parentLink","menuItem","this","parentNode","contains","preventDefault","children","navswitcher","d","attributes","nodeValue","style","display","self","tagName","toLowerCase","parentElement"],"mappings":"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","file":"../menu.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/**\n * File navigation.js.\n *\n * Handles toggling the navigation menu for small screens and enables TAB key\n * navigation support for dropdown menus.\n */\n( function() {\n\tvar container, button, menu, links, i, len;\n\n\tcontainer = document.getElementById( 'masthead' );\n\tif ( ! container ) {\n\t\treturn;\n\t}\n\n\tbutton = document.querySelectorAll( '.menu-toggle' )[0];\n\tif ( 'undefined' === typeof button ) {\n\t\treturn;\n\t}\n\n\tmenu = container.getElementsByTagName( 'ul' )[0];\n\n\t// Hide menu toggle button if menu is empty and return early.\n\tif ( 'undefined' === typeof menu ) {\n\t\tbutton.style.display = 'none';\n\t\treturn;\n\t}\n\n\tmenu.setAttribute( 'aria-expanded', 'false' );\n\tif ( -1 === menu.className.indexOf( 'nav-menu' ) ) {\n\t\tmenu.className += ' nav-menu';\n\t}\n\n\tbutton.onclick = function() {\n\t\tif ( -1 !== container.className.indexOf( 'toggled' ) ) {\n\t\t\tcontainer.className = container.className.replace( ' toggled', '' );\n\t\t\tbutton.setAttribute( 'aria-expanded', 'false' );\n\t\t\tmenu.setAttribute( 'aria-expanded', 'false' );\n\t\t} else {\n\t\t\tcontainer.className += ' toggled';\n\t\t\tbutton.setAttribute( 'aria-expanded', 'true' );\n\t\t\tmenu.setAttribute( 'aria-expanded', 'true' );\n\t\t}\n\t};\n\n\t// Get all the link elements within the menu.\n\tlinks = menu.getElementsByTagName( 'a' );\n\n\t// Each time a menu link is focused or blurred, toggle focus.\n\tfor ( i = 0, len = links.length; i < len; i++ ) {\n\t\tlinks[i].addEventListener( 'focus', toggleFocus, true );\n\t\tlinks[i].addEventListener( 'blur', toggleFocus, true );\n\t}\n\n\t/**\n\t * Sets or removes .focus class on an element.\n\t */\n\tfunction toggleFocus() {\n\t\tvar self = this;\n\n\t\t// Move up through the ancestors of the current link until we hit .nav-menu.\n\t\twhile ( -1 === self.className.indexOf( 'nav-menu' ) ) {\n\n\t\t\t// On li elements toggle the class .focus.\n\t\t\tif ( 'li' === self.tagName.toLowerCase() ) {\n\t\t\t\tif ( -1 !== self.className.indexOf( 'focus' ) ) {\n\t\t\t\t\tself.className = self.className.replace( ' focus', '' );\n\t\t\t\t} else {\n\t\t\t\t\tself.className += ' focus';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself = self.parentElement;\n\t\t}\n\t}\n\n\t// @ http://jsfiddle.net/mariusc23/s6mLJ/31/\n\n\t// hides the nav on scroll\n\tvar didScroll;\n\tvar lastScrollTop = 0;\n\tvar delta = 5;\n\tvar navbarHeight = container.getBoundingClientRect().height;\n\twindow.addEventListener('scroll', function () { didScroll = true });\n\n\t//  exec on an interval to keep logic perfomant\n\tsetInterval(function () {\n\t\tif (didScroll) {\n\t\t\thasScrolled()\n\t\t\tdidScroll = false\n\t\t}\n\t}, 250);\n\n\tfunction hasScrolled() {\n\t\tvar st = window.pageYOffset\n\n\t\t// Make sure they scroll more than delta\n\t\tif (Math.abs(lastScrollTop - st) <= delta)\n      return\n\n    if (st > lastScrollTop && st > navbarHeight) {\n      // Scroll Down\n      container.classList.remove('nav-down')\n      container.classList.add('nav-up')\n    } else {\n      // Scroll Up\n      if ( (st + window.innerHeight) < document.documentElement.offsetHeight ) {\n        container.classList.add('nav-down')\n      \tcontainer.classList.remove('nav-up')\n      }\n    }\n    lastScrollTop = st;\n\t}\n\n\n\n\n\n\n\t/**\n\t * Toggles `focus` class to allow submenu access on tablets.\n\t */\n\t( function( container ) {\n\t\tvar touchStartFn, i,\n\t\t\tparentLink = container.querySelectorAll( '.menu-item-has-children > a, .page_item_has_children > a' );\n\n\t\tif ( 'ontouchstart' in window ) {\n\t\t\ttouchStartFn = function( e ) {\n\t\t\t\tvar menuItem = this.parentNode, i;\n\n\t\t\t\tif ( ! menuItem.classList.contains( 'focus' ) ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tfor ( i = 0; i < menuItem.parentNode.children.length; ++i ) {\n\t\t\t\t\t\tif ( menuItem === menuItem.parentNode.children[i] ) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmenuItem.parentNode.children[i].classList.remove( 'focus' );\n\t\t\t\t\t}\n\t\t\t\t\tmenuItem.classList.add( 'focus' );\n\t\t\t\t} else {\n\t\t\t\t\tmenuItem.classList.remove( 'focus' );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfor ( i = 0; i < parentLink.length; ++i ) {\n\t\t\t\tparentLink[i].addEventListener( 'touchstart', touchStartFn, false );\n\t\t\t}\n\t\t}\n\t}( container ) );\n\n\t// toggle between nav states\n\tvar navswitcher = container.querySelectorAll('.site-navigation__m-switcher')[0];\n\tif ('undefined' === typeof navswitcher) {\n\t\treturn;\n\t} else {\n\t\tvar d = navswitcher.getElementsByTagName('div');\n\t\tfor ( i = 0, len = d.length; i < len; i++ ) {\n\t\t\td[i].addEventListener( 'click', function () {\n\t\t\t\tvar a = this.attributes['data-nav'].nodeValue;\n\t\t\t\tcontainer.querySelectorAll('.selected')[0].classList.remove('selected');\n\t\t\t\tvar c = container.querySelectorAll('.site-navigation__inner[data-nav=\"' + a +'\"]')[0];\n\t\t\t\tc.classList.add('selected');\n\t\t\t});\n\t\t}\n\t}\n\n} )();\n"]}