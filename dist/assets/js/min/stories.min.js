!function c(l,s,o){function i(t,e){if(!s[t]){if(!l[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var r=s[t]={exports:{}};l[t][0].call(r.exports,function(e){return i(l[t][1][e]||e)},r,r.exports,c,l,s,o)}return s[t].exports}for(var d="function"==typeof require&&require,e=0;e<o.length;e++)i(o[e]);return i}({1:[function(e,t,n){"use strict";var r=a(e("./util/theme.js")),c=a(e("./util/stories.js")),l=a(e("./util/cat.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=axios.create({baseURL:"http://doe.concordia.ca/cslp/wp-json/wp/v2/"}),o=document.getElementById("a"),i=!o.checked,d={drillLevel:0,active:"none",levelstring:"",themeID:null,backone:function(){this.drillLevel-=1,console.log("state.drillLevel: ",d.drillLevel)},hidemeta:function(){document.querySelectorAll(".stories-meta")[0].className="stories-meta hidden"}},m=document.getElementById("stories__by-theme"),u=document.getElementById("stories__by-cat"),g=m.querySelectorAll(".theme-card"),h=u.querySelectorAll(".category-card");document.getElementById("cat-meta").className="hidden",document.getElementById("theme-meta").className="hidden";var f=document.getElementById("drilldown");o.addEventListener("click",function(){(i=!o.checked)?(m.className="",u.className="selected"):(m.className="selected",u.className=""),document.getElementById("cat-meta").className="hidden",document.getElementById("theme-meta").className="hidden",document.getElementById("story").className="hidden"}),i?(m.className="",u.className="selected"):(m.className="selected",u.className=""),g.forEach(function(a){a.addEventListener("click",function(e){e.preventDefault();var t=a.getAttribute("data-theme");if(r.default.isCached(t)){var n=JSON.parse(localStorage.getItem("t"+t));console.log("retrieved cached data: ID #"+t),r.default.setDOM(n,d,c.default,s)}else r.default.get(t,s,function(e){console.log("retrieved live data: ID #"+t),r.default.setDOM(e,d,c.default,s)});m.className="",f.setAttribute("data-active","theme")})}),h.forEach(function(a){a.addEventListener("click",function(e){e.preventDefault();var t=a.getAttribute("data-cat");if(l.default.isCached(t)){var n=JSON.parse(localStorage.getItem("c"+t));console.log("retrieved cached data: ID #"+t),d.levelstring="By category > "+n.name,l.default.setDOM(n,d,c.default,s)}else l.default.get(t,s,function(e){console.log("retrieved live data: ID #"+t),d.levelstring="By category > "+e.name,l.default.setDOM(e,d,c.default,s)});u.className="",f.setAttribute("data-active","cat")})})},{"./util/cat.js":2,"./util/stories.js":3,"./util/theme.js":4}],2:[function(e,t,n){"use strict";t.exports={isCached:function(e){return!!localStorage.getItem("c"+e)},cache:function(e){localStorage.setItem("c"+e.id,JSON.stringify(e))},get:function(e,t,n){var a=this;t.get("categories/"+e).then(function(e){a.cache(e.data),n(e.data)}).catch("error",function(e){return console.warn(e),null})},setDOM:function(e,t,r,n){var a=document.getElementById("cat-meta");t.drillLevel=1,document.getElementById("cat-meta").className="",document.getElementById("theme-meta").className="hidden",document.getElementById("story").className="hidden",console.log("state: ",t),a.querySelectorAll("#cat-meta__header h2")[0].innerHTML=e.name,a.querySelectorAll("#cat-meta__header span")[0].innerHTML=t.levelstring,document.getElementById("cat-meta__content").innerHTML=e.description,setTimeout(r.getRelatedStories("story?categories="+e.id,function(n){var e=document.getElementById("cat-meta__list");e.className="isRefreshing",e.innerHTML="";for(var t=function(){var e=n[a],t=document.createElement("div");t.className="story",t.setAttribute("data-story",e.id),t.innerHTML="<h3>"+e.title.rendered+"</h3><p>"+e.stories_description+'</p><p class="meta"><b>Level:</b> '+r.level(e.story_level)+"</p>",document.getElementById("cat-meta__list").appendChild(t),t.addEventListener("click",function(){location.href=e.link})},a=n.length-1;0<=a;a--)t();e.className=""},n),0)}}},{}],3:[function(e,t,n){"use strict";t.exports={getRelatedStories:function(e,t,n){n.get(e).then(function(e){t(e.data)}).catch("error",function(e){console.warn(e)})},showStory:function(e,t){document.getElementById("cat-meta").className="hidden",document.getElementById("theme-meta").className="hidden";var n=document.getElementById("story");n.className="",document.getElementById("story-title").innerHTML=e.title.rendered,n.querySelectorAll("header span")[0].innerHTML=t.levelstring+" > "+e.title.rendered,document.getElementById("story__body-desc").innerHTML=e.stories_description,document.getElementById("story__body-res").innerHTML=e.stories_resources,console.log("story: ",e)},level:function(e){switch(parseInt(e)){case 1:return"Beginner";case 2:return"Easy";case 3:return"Average";case 4:return"Advanced";case 5:return"Expert"}}}},{}],4:[function(e,t,n){"use strict";t.exports={isCached:function(e){return!!localStorage.getItem("t"+e)},cache:function(e){localStorage.setItem("t"+e.id,JSON.stringify(e))},get:function(e,t,n){var a=this;t.get("tags/"+e).then(function(e){a.cache(e.data),n(e.data)}).catch("error",function(e){return console.warn(e),null})},setDOM:function(e,t,r,n){var a=document.getElementById("theme-meta");t.drillLevel=1,document.getElementById("cat-meta").className="hidden",document.getElementById("theme-meta").className="",document.getElementById("story").className="hidden",a.querySelectorAll("#theme-meta__header h2")[0].innerHTML=e.name,a.querySelectorAll("#theme-meta__header span")[0].innerHTML=t.levelstring,document.getElementById("theme-meta__content").innerHTML=e.description,setTimeout(r.getRelatedStories("story?tags="+e.id,function(n){var e=document.getElementById("theme-meta__list");e.className="isRefreshing",e.innerHTML="";for(var t=function(){var e=n[a],t=document.createElement("div");t.className="story",t.setAttribute("data-story",e.id),t.innerHTML="<h3>"+e.title.rendered+"</h3><p>"+e.stories_description+'</p><p class="meta"><b>Level:</b> '+r.level(e.story_level)+"</p>",document.getElementById("theme-meta__list").appendChild(t),t.addEventListener("click",function(){location.href=e.link})},a=n.length-1;0<=a;a--)t();e.className=""},n),0)}}},{}]},{},[1]);