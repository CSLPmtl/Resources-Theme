!function c(l,s,o){function d(t,e){if(!s[t]){if(!l[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(i)return i(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var r=s[t]={exports:{}};l[t][0].call(r.exports,function(e){return d(l[t][1][e]||e)},r,r.exports,c,l,s,o)}return s[t].exports}for(var i="function"==typeof require&&require,e=0;e<o.length;e++)d(o[e]);return d}({1:[function(e,t,n){"use strict";var r=a(e("./util/theme.js")),c=a(e("./util/stories.js")),l=a(e("./util/cat.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=axios.create({baseURL:window._burl}),o=document.getElementById("a"),d=!o.checked,i={drillLevel:0,active:"none",levelstring:"",themeID:null,backone:function(){this.drillLevel-=1,console.log("state.drillLevel: ",i.drillLevel)},hidemeta:function(){document.querySelectorAll(".stories-meta")[0].className="stories-meta hidden"}},m=document.getElementById("stories__by-theme"),u=document.getElementById("stories__by-cat"),g=m.querySelectorAll(".theme-card"),h=u.querySelectorAll(".category-card");document.getElementById("cat-meta").className="hidden",document.getElementById("theme-meta").className="hidden";var f=document.getElementById("drilldown");o.addEventListener("click",function(){(d=!o.checked)?(m.className="",u.className="selected"):(m.className="selected",u.className=""),document.getElementById("cat-meta").className="hidden",document.getElementById("theme-meta").className="hidden",document.getElementById("story").className="hidden"}),d?(m.className="",u.className="selected"):(m.className="selected",u.className=""),g.forEach(function(a){a.addEventListener("click",function(e){e.preventDefault();var t=a.getAttribute("data-theme");if(r.default.isCached(t)){var n=JSON.parse(localStorage.getItem("t"+t));console.log("retrieved cached data: ID #"+t),r.default.setDOM(n,i,c.default,s)}else r.default.get(t,s,function(e){console.log("retrieved live data: ID #"+t),r.default.setDOM(e,i,c.default,s)});m.className="",f.setAttribute("data-active","theme")})}),h.forEach(function(a){a.addEventListener("click",function(e){e.preventDefault();var t=a.getAttribute("data-cat");if(l.default.isCached(t)){var n=JSON.parse(localStorage.getItem("c"+t));console.log("retrieved cached data: ID #"+t),i.levelstring="By category > "+n.name,l.default.setDOM(n,i,c.default,s)}else l.default.get(t,s,function(e){console.log("retrieved live data: ID #"+t),i.levelstring="By category > "+e.name,l.default.setDOM(e,i,c.default,s)});u.className="",f.setAttribute("data-active","cat")})})},{"./util/cat.js":2,"./util/stories.js":3,"./util/theme.js":4}],2:[function(e,t,n){"use strict";t.exports={isCached:function(e){return!!localStorage.getItem("c"+e)},cache:function(e){localStorage.setItem("c"+e.id,JSON.stringify(e))},get:function(e,t,n){var a=this;t.get("categories/"+e).then(function(e){a.cache(e.data),n(e.data)}).catch("error",function(e){return console.warn(e),null})},setDOM:function(e,r,c,t){var n=document.getElementById("cat-meta");r.drillLevel=1,document.getElementById("cat-meta").className="",document.getElementById("theme-meta").className="hidden",document.getElementById("story").className="hidden",console.log("state: ",r),n.querySelectorAll("#cat-meta__header h2")[0].innerHTML=e.name,n.querySelectorAll("#cat-meta__header span")[0].innerHTML=r.levelstring,document.getElementById("cat-meta__content").innerHTML=e.description,setTimeout(c.getRelatedStories("story?categories="+e.id,function(n){var e=document.getElementById("cat-meta__list");e.className="isRefreshing",e.innerHTML="";for(var t=function(){var e=n[a],t=document.createElement("div");t.className="story",t.setAttribute("data-story",e.id),t.innerHTML="<h3>"+e.title.rendered+"</h3><p>"+e.stories_description+'</p><p class="meta"><b>Level:</b> '+c.level(e.story_level)+"</p>",document.getElementById("cat-meta__list").appendChild(t),t.addEventListener("click",function(){c.showStory(e,r)})},a=n.length-1;0<=a;a--)t();e.className=""},t),0)}}},{}],3:[function(e,t,n){"use strict";t.exports={getRelatedStories:function(e,t,n){n.get(e).then(function(e){t(e.data)}).catch("error",function(e){console.warn(e)})},showStory:function(e,t){document.getElementById("cat-meta").className="hidden",document.getElementById("theme-meta").className="hidden";var n=document.getElementById("story");n.className="",document.getElementById("story-title").innerHTML=e.title.rendered,n.querySelectorAll("header span")[0].innerHTML=t.levelstring+" > "+e.title.rendered,document.getElementById("story__body-desc").innerHTML=e.stories_description,document.getElementById("story__body-res").innerHTML=e.stories_resources,console.log("story: ",e)},level:function(e){switch(parseInt(e)){case 1:return"Beginner";case 2:return"Easy";case 3:return"Average";case 4:return"Advanced";case 5:return"Expert"}}}},{}],4:[function(e,t,n){"use strict";t.exports={isCached:function(e){return!!localStorage.getItem("t"+e)},cache:function(e){localStorage.setItem("t"+e.id,JSON.stringify(e))},get:function(e,t,n){var a=this;t.get("tags/"+e).then(function(e){a.cache(e.data),n(e.data)}).catch("error",function(e){return console.warn(e),null})},setDOM:function(e,r,c,t){var n=document.getElementById("theme-meta");r.drillLevel=1,document.getElementById("cat-meta").className="hidden",document.getElementById("theme-meta").className="",document.getElementById("story").className="hidden",n.querySelectorAll("#theme-meta__header h2")[0].innerHTML=e.name,n.querySelectorAll("#theme-meta__header span")[0].innerHTML=r.levelstring,document.getElementById("theme-meta__content").innerHTML=e.description,setTimeout(c.getRelatedStories("story?tags="+e.id,function(n){var e=document.getElementById("theme-meta__list");e.className="isRefreshing",e.innerHTML="";for(var t=function(){var e=n[a],t=document.createElement("div");t.className="story",t.setAttribute("data-story",e.id),t.innerHTML="<h3>"+e.title.rendered+"</h3><p>"+e.stories_description+'</p><p class="meta"><b>Level:</b> '+c.level(e.story_level)+"</p>",document.getElementById("theme-meta__list").appendChild(t),t.addEventListener("click",function(){c.showStory(e,r)})},a=n.length-1;0<=a;a--)t();e.className=""},t),0)}}},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9zdG9yaWVzL3N0b3JpZXMuanMiLCJzcmMvc2NyaXB0cy9zdG9yaWVzL3V0aWwvY2F0LmpzIiwic3JjL3NjcmlwdHMvc3Rvcmllcy91dGlsL3N0b3JpZXMuanMiLCJzcmMvc2NyaXB0cy9zdG9yaWVzL3V0aWwvdGhlbWUuanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiYXhpb3MiLCJjcmVhdGUiLCJiYXNlVVJMIiwid2luZG93IiwiX2J1cmwiLCJ0b2dnbGUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidGhlbWVzVG9nZ2xlZCIsImNoZWNrZWQiLCJzdGF0ZSIsImRyaWxsTGV2ZWwiLCJhY3RpdmUiLCJsZXZlbHN0cmluZyIsInRoZW1lSUQiLCJiYWNrb25lIiwidGhpcyIsImNvbnNvbGUiLCJsb2ciLCJoaWRlbWV0YSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjbGFzc05hbWUiLCJ0aGVtZXNDb250YWluZXIiLCJjYXRlZ3NDb250YWluZXIiLCJ0aGVtZUl0ZW1zIiwiY2F0ZWdJdGVtcyIsImQiLCJhZGRFdmVudExpc3RlbmVyIiwiZm9yRWFjaCIsIml0ZW0iLCJwcmV2ZW50RGVmYXVsdCIsIklEIiwiZ2V0QXR0cmlidXRlIiwiX3RoZW1lMiIsImRlZmF1bHQiLCJpc0NhY2hlZCIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0RE9NIiwiX3N0b3JpZXMyIiwiZ2V0Iiwic2V0QXR0cmlidXRlIiwiX2NhdDIiLCJuYW1lIiwiY2FjaGUiLCJzZXRJdGVtIiwiaWQiLCJzdHJpbmdpZnkiLCJjYXRJRCIsImNhbGxiYWNrIiwiX3RoaXMiLCJ0aGVuIiwicmVzcG9uc2UiLCJjYXRjaCIsImVycm9yIiwid2FybiIsImNhdCIsInN0b3J5IiwiaW5uZXJIVE1MIiwiZGVzY3JpcHRpb24iLCJzZXRUaW1lb3V0IiwiZ2V0UmVsYXRlZFN0b3JpZXMiLCJzdG9yaWVzIiwibGlzdCIsIl9sb29wIiwicyIsImVsIiwiY3JlYXRlRWxlbWVudCIsInRpdGxlIiwicmVuZGVyZWQiLCJzdG9yaWVzX2Rlc2NyaXB0aW9uIiwibGV2ZWwiLCJzdG9yeV9sZXZlbCIsImFwcGVuZENoaWxkIiwic2hvd1N0b3J5IiwicXVlcnkiLCJyZXMiLCJzdG9yaWVzX3Jlc291cmNlcyIsImludCIsInBhcnNlSW50IiwidGhlbWUiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxJQUFBSixFQUFBRyxHQUFBLENBQUEsSUFBQUosRUFBQUksR0FBQSxDQUFBLElBQUFFLEVBQUEsbUJBQUFDLFNBQUFBLFFBQUEsSUFBQUYsR0FBQUMsRUFBQSxPQUFBQSxFQUFBRixHQUFBLEdBQUEsR0FBQUksRUFBQSxPQUFBQSxFQUFBSixHQUFBLEdBQUEsSUFBQUssRUFBQSxJQUFBQyxNQUFBLHVCQUFBTixFQUFBLEtBQUEsTUFBQUssRUFBQUUsS0FBQSxtQkFBQUYsRUFBQSxJQUFBRyxFQUFBWCxFQUFBRyxHQUFBLENBQUFTLFFBQUEsSUFBQWIsRUFBQUksR0FBQSxHQUFBVSxLQUFBRixFQUFBQyxRQUFBLFNBQUFkLEdBQUEsT0FBQUksRUFBQUgsRUFBQUksR0FBQSxHQUFBTCxJQUFBQSxJQUFBYSxFQUFBQSxFQUFBQyxRQUFBZCxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLE9BQUFELEVBQUFHLEdBQUFTLFFBQUEsSUFBQSxJQUFBTCxFQUFBLG1CQUFBRCxTQUFBQSxRQUFBSCxFQUFBLEVBQUFBLEVBQUFGLEVBQUFhLE9BQUFYLElBQUFELEVBQUFELEVBQUFFLElBQUEsT0FBQUQsRUFBQSxDQUFBLENBQUFhLEVBQUEsQ0FBQSxT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RUcsTUFBTUMsU0FBVyxXQUNqQ0osRUFBRUssb0JBQXNCLHFDQUNHYixFQUFNYyxNQUFNTixFQUFFTyxhQUFlLE9BRWxFckUsU0FBU0MsZUFBZSxvQkFBb0JxRSxZQUFZUCxHQUV4REEsRUFBRzFDLGlCQUFpQixRQUFTLFdBQzVCaUMsRUFBTWlCLFVBQVVULEVBQUcxRCxNQWJaeEIsRUFBSStFLEVBQVFwRSxPQUFTLEVBQVEsR0FBTFgsRUFBUUEsSUFBS2lGLElBZ0I5Q0QsRUFBSzdDLFVBQVksSUFDZnJCLEdBQ0QiLCJmaWxlIjoic3Rvcmllcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdGhlbWUgZnJvbSAnLi91dGlsL3RoZW1lLmpzJ1xuaW1wb3J0IHN0b3J5IGZyb20gJy4vdXRpbC9zdG9yaWVzLmpzJ1xuaW1wb3J0IGNhdGVnIGZyb20gJy4vdXRpbC9jYXQuanMnXG5cbmNvbnN0IGEgPSBheGlvcy5jcmVhdGUoe1xuXHRiYXNlVVJMOiB3aW5kb3cuX2J1cmwgLy8gc2V0IGluIEhUTUwgdmlhIHdvcmRwcmVzc1xuXHQvL2Jhc2VVUkw6ICdodHRwOi8vMTAuMTA2LjEzMy4xMzgvfm1oZW1pbmcvcmVzb3VyY2VzL3dwLWpzb24vd3AvdjIvJyAvLyBkZXZlbG9wbWVudFxufSlcblxuY29uc3QgdG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2EnKVxubGV0IHRoZW1lc1RvZ2dsZWQgPSAhdG9nZ2xlLmNoZWNrZWRcblxuLy8gYXBwIHN0YXRlXG5jb25zdCBzdGF0ZSA9IHt9XG5zdGF0ZS5kcmlsbExldmVsID0gMFxuc3RhdGUuYWN0aXZlID0gJ25vbmUnXG5zdGF0ZS5sZXZlbHN0cmluZyA9ICcnXG5zdGF0ZS50aGVtZUlEID0gbnVsbCAvLyBmb3IgZnVydGhlciBjYWNoaW5nLiBJbXBsZW1lbnQgbGF0ZXIhXG5zdGF0ZS5iYWNrb25lID0gZnVuY3Rpb24gKCkge1xuXHR0aGlzLmRyaWxsTGV2ZWwgLT0gMVxuXHRjb25zb2xlLmxvZygnc3RhdGUuZHJpbGxMZXZlbDogJywgc3RhdGUuZHJpbGxMZXZlbClcbn1cbnN0YXRlLmhpZGVtZXRhID0gZnVuY3Rpb24gKCkge1xuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3Rvcmllcy1tZXRhJylbMF0uY2xhc3NOYW1lID0gJ3N0b3JpZXMtbWV0YSBoaWRkZW4nXG59XG5cbmNvbnN0IHRoZW1lc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9yaWVzX19ieS10aGVtZScpXG5jb25zdCBjYXRlZ3NDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Rvcmllc19fYnktY2F0JylcbmNvbnN0IHRoZW1lSXRlbXMgPSB0aGVtZXNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnRoZW1lLWNhcmQnKVxuY29uc3QgY2F0ZWdJdGVtcyA9IGNhdGVnc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuY2F0ZWdvcnktY2FyZCcpXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0LW1ldGEnKS5jbGFzc05hbWUgPSAnaGlkZGVuJ1xuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoZW1lLW1ldGEnKS5jbGFzc05hbWUgPSAnaGlkZGVuJ1xuXG5jb25zdCBkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyaWxsZG93bicpO1xuXG4vLyBBZGQgdG9nZ2xlIGV2bnRsaXN0XG50b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdHRoZW1lc1RvZ2dsZWQgPSAhdG9nZ2xlLmNoZWNrZWQ7XG5cdGlmICghdGhlbWVzVG9nZ2xlZCkge1xuXHRcdHRoZW1lc0NvbnRhaW5lci5jbGFzc05hbWUgPSAnc2VsZWN0ZWQnO1xuXHRcdGNhdGVnc0NvbnRhaW5lci5jbGFzc05hbWUgPSAnJztcblx0fSBlbHNlIHtcblx0XHR0aGVtZXNDb250YWluZXIuY2xhc3NOYW1lID0gJyc7XG5cdFx0Y2F0ZWdzQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdzZWxlY3RlZCc7XG5cdH1cblxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0LW1ldGEnKS5jbGFzc05hbWUgPSAnaGlkZGVuJ1xuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhlbWUtbWV0YScpLmNsYXNzTmFtZSA9ICdoaWRkZW4nXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9yeScpLmNsYXNzTmFtZSA9ICdoaWRkZW4nXG59KVxuXG5pZiAoIXRoZW1lc1RvZ2dsZWQpIHtcblx0dGhlbWVzQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdzZWxlY3RlZCdcblx0Y2F0ZWdzQ29udGFpbmVyLmNsYXNzTmFtZSA9ICcnXG59IGVsc2Uge1xuXHR0aGVtZXNDb250YWluZXIuY2xhc3NOYW1lID0gJydcblx0Y2F0ZWdzQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdzZWxlY3RlZCdcbn1cblxuLy8gaW1wbGVtZW50IHRoZSBsb2dpYyBvbiBlYWNoIFRoZW1lIGl0ZW1cbnRoZW1lSXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuXHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKVxuXHRcdGxldCBJRCA9IGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJylcblxuXHRcdGlmICghdGhlbWUuaXNDYWNoZWQoSUQpKSB7IC8vIGlmIG5vdCBjYWNoZWQsIGNoZWNrIG9ubGluZVxuXHRcdFx0dGhlbWUuZ2V0KElELCBhLCBkYXRhID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ3JldHJpZXZlZCBsaXZlIGRhdGE6IElEICMnICsgSUQpXG5cdFx0XHRcdHRoZW1lLnNldERPTShkYXRhLCBzdGF0ZSwgc3RvcnksIGEpXG5cdFx0XHR9KVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRsZXQgZGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3QnK0lEKSlcblx0XHRcdGNvbnNvbGUubG9nKCdyZXRyaWV2ZWQgY2FjaGVkIGRhdGE6IElEICMnICsgSUQpXG5cdFx0XHR0aGVtZS5zZXRET00oZGF0YSwgc3RhdGUsIHN0b3J5LCBhKVxuXHRcdH1cblxuXHRcdHRoZW1lc0NvbnRhaW5lci5jbGFzc05hbWUgPSAnJzsgLy8gaGlkZSB0aGVtZSBsaXN0XG5cdFx0ZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aXZlJywgJ3RoZW1lJylcblxuXHR9KVxufSlcblxuLy8gaW1wbGVtZW50IHRoZSBsb2dpYyBvbiBlYWNoIENhdGVnb3J5IEl0ZW1cbmNhdGVnSXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuXHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKVxuXHRcdGxldCBJRCA9IGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWNhdCcpXG5cblxuXHRcdGlmICghY2F0ZWcuaXNDYWNoZWQoSUQpKSB7XG5cdFx0XHRjYXRlZy5nZXQoSUQsIGEsIGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdyZXRyaWV2ZWQgbGl2ZSBkYXRhOiBJRCAjJyArIElEKVxuXHRcdFx0XHRzdGF0ZS5sZXZlbHN0cmluZyA9ICdCeSBjYXRlZ29yeSA+ICcgKyBkYXRhLm5hbWVcblx0XHRcdFx0Y2F0ZWcuc2V0RE9NKGRhdGEsIHN0YXRlLCBzdG9yeSwgYSlcblx0XHRcdH0pXG5cdFx0fSBlbHNlIHtcblx0XHRcdGxldCBkYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYycrSUQpKVxuXHRcdFx0Y29uc29sZS5sb2coJ3JldHJpZXZlZCBjYWNoZWQgZGF0YTogSUQgIycgKyBJRClcblx0XHRcdHN0YXRlLmxldmVsc3RyaW5nID0gJ0J5IGNhdGVnb3J5ID4gJyArIGRhdGEubmFtZVxuXHRcdFx0Y2F0ZWcuc2V0RE9NKGRhdGEsIHN0YXRlLCBzdG9yeSwgYSlcblx0XHR9XG5cdFx0Y2F0ZWdzQ29udGFpbmVyLmNsYXNzTmFtZSA9ICcnO1xuXHRcdGQuc2V0QXR0cmlidXRlKCdkYXRhLWFjdGl2ZScsICdjYXQnKVxuXHR9KVxufSkiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0aXNDYWNoZWQ6IGZ1bmN0aW9uIChJRCkge1xuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYycrSUQpID8gdHJ1ZSA6IGZhbHNlXG5cdH0sXG5cblx0Y2FjaGU6IGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2MnICsgZGF0YS5pZCwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpXG5cdH0sXG5cblx0Z2V0OiBmdW5jdGlvbiAoY2F0SUQsIGF4aW9zLCBjYWxsYmFjaykge1xuXHRcdGF4aW9zLmdldCgnY2F0ZWdvcmllcy8nICsgY2F0SUQpLnRoZW4oIHJlc3BvbnNlID0+IHtcblx0XHRcdHRoaXMuY2FjaGUocmVzcG9uc2UuZGF0YSlcblx0XHRcdGNhbGxiYWNrKHJlc3BvbnNlLmRhdGEpXG5cdFx0fSkuY2F0Y2goJ2Vycm9yJywgZnVuY3Rpb24gKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oZXJyb3IpXG5cdFx0XHRyZXR1cm4gbnVsbFxuXHRcdH0pXG5cdH0sXG5cblx0c2V0RE9NOiBmdW5jdGlvbiAoY2F0LCBzdGF0ZSwgc3RvcnksIGF4aW9zKSB7XG5cdFx0Ly8gc2V0IHRoZSBlbGVtZW50IHRvIHZpc2libGVcblx0XHQvL1xuXHRcdGNvbnN0IGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0LW1ldGEnKVxuXHRcdHN0YXRlLmRyaWxsTGV2ZWwgPSAxIC8vIG5vdCBpbXBsZW1lbnRlZFxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXQtbWV0YScpLmNsYXNzTmFtZSA9ICcnXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoZW1lLW1ldGEnKS5jbGFzc05hbWUgPSAnaGlkZGVuJ1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9yeScpLmNsYXNzTmFtZSA9ICdoaWRkZW4nXG5cblx0XHRjb25zb2xlLmxvZygnc3RhdGU6ICcsIHN0YXRlKTtcblxuXHRcdC8vIHNldCBtZXRhIGRlc2NyaXB0aW9uXG5cdFx0Yy5xdWVyeVNlbGVjdG9yQWxsKCcjY2F0LW1ldGFfX2hlYWRlciBoMicpWzBdLmlubmVySFRNTCA9IGNhdC5uYW1lXG5cdFx0Yy5xdWVyeVNlbGVjdG9yQWxsKCcjY2F0LW1ldGFfX2hlYWRlciBzcGFuJylbMF0uaW5uZXJIVE1MID0gc3RhdGUubGV2ZWxzdHJpbmdcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0LW1ldGFfX2NvbnRlbnQnKS5pbm5lckhUTUwgPSBjYXQuZGVzY3JpcHRpb25cblxuXHRcdC8vIHNldCBhc3luY1xuXHRcdHNldFRpbWVvdXQoIC8vICArICcmZmllbGRzPWlkLHRpdGxlLHN0b3JpZXNfZGVzY3JpcHRpb24nIDooXG5cdFx0XHRzdG9yeS5nZXRSZWxhdGVkU3Rvcmllcygnc3Rvcnk/Y2F0ZWdvcmllcz0nICsgY2F0LmlkLCBmdW5jdGlvbiAoc3Rvcmllcykge1xuXHRcdFx0XHR2YXIgbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXQtbWV0YV9fbGlzdCcpXG5cdFx0XHRcdGxpc3QuY2xhc3NOYW1lID0gJ2lzUmVmcmVzaGluZydcblx0XHRcdFx0bGlzdC5pbm5lckhUTUwgPSAnJ1xuXG5cdFx0XHRcdC8vIGNyZWF0ZSBzdG9yeSBwcmV2aWV3c1xuXHRcdFx0XHRmb3IgKHZhciBpID0gc3Rvcmllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdGxldCBzID0gc3Rvcmllc1tpXVxuXG5cdFx0XHRcdFx0bGV0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jylcblx0XHRcdFx0XHRlbC5jbGFzc05hbWUgPSAnc3RvcnknXG5cdFx0XHRcdFx0ZWwuc2V0QXR0cmlidXRlKCdkYXRhLXN0b3J5Jywgcy5pZClcblx0XHRcdFx0XHRlbC5pbm5lckhUTUwgPSAnPGgzPicgKyBzLnRpdGxlLnJlbmRlcmVkICsgJzwvaDM+J1xuXHRcdFx0XHRcdCsgJzxwPicgKyBzLnN0b3JpZXNfZGVzY3JpcHRpb24gKyAnPC9wPidcblx0XHRcdFx0XHQrICc8cCBjbGFzcz1cIm1ldGFcIj48Yj5MZXZlbDo8L2I+ICcgKyBzdG9yeS5sZXZlbChzLnN0b3J5X2xldmVsKSArICc8L3A+JztcblxuXHRcdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXQtbWV0YV9fbGlzdCcpLmFwcGVuZENoaWxkKGVsKVxuXG5cdFx0XHRcdFx0ZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRzdG9yeS5zaG93U3Rvcnkocywgc3RhdGUpXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LmNsYXNzTmFtZSA9ICcnXG5cdFx0XHR9LCBheGlvc1xuXHRcdCksIDApXG5cblx0fVxufSIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHQvLyBTdG9yeSBGdW5jdGlvbnNcblx0Z2V0UmVsYXRlZFN0b3JpZXM6IGZ1bmN0aW9uIChxdWVyeSwgY2FsbGJhY2ssIGF4aW9zKSB7XG5cdFx0YXhpb3MuZ2V0KHF1ZXJ5KS50aGVuKGZ1bmN0aW9uKHJlcykge1xuXHRcdFx0Y2FsbGJhY2socmVzLmRhdGEpXG5cdFx0fSkuY2F0Y2goJ2Vycm9yJywgZnVuY3Rpb24gKGUpIHtjb25zb2xlLndhcm4oZSl9KVxuXHR9LFxuXG5cdHNob3dTdG9yeTogZnVuY3Rpb24gKHN0b3J5LCBzdGF0ZSkge1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXQtbWV0YScpLmNsYXNzTmFtZSA9ICdoaWRkZW4nXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoZW1lLW1ldGEnKS5jbGFzc05hbWUgPSAnaGlkZGVuJ1xuXG5cdFx0Y29uc3QgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9yeScpXG5cdFx0cy5jbGFzc05hbWUgPSAnJ1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9yeS10aXRsZScpLmlubmVySFRNTCA9IHN0b3J5LnRpdGxlLnJlbmRlcmVkXG5cdFx0cy5xdWVyeVNlbGVjdG9yQWxsKCdoZWFkZXIgc3BhbicpWzBdLmlubmVySFRNTCA9IHN0YXRlLmxldmVsc3RyaW5nICsgJyA+ICcgKyBzdG9yeS50aXRsZS5yZW5kZXJlZFxuXG5cblxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9yeV9fYm9keS1kZXNjJykuaW5uZXJIVE1MID0gc3Rvcnkuc3Rvcmllc19kZXNjcmlwdGlvblxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9yeV9fYm9keS1yZXMnKS5pbm5lckhUTUwgPSBzdG9yeS5zdG9yaWVzX3Jlc291cmNlc1xuXG5cblx0XHQvLyBsZXQgcmVzID0gW11cblx0XHQvLyBsZXQgcmVzSFRNTCA9ICc8dWw+J1xuXHRcdC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdG9yeV9fYm9keS1saW5rcycpLmlubmVySFRNTCA9IHN0b3J5LnJlc0hUTUxcblxuXHRcdGNvbnNvbGUubG9nKCdzdG9yeTogJywgc3RvcnkpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBzdHJpZyBhc3NvY2lhdGVkIHdpdGggZWFjaCBsZXZlbFxuXHQgKiBAcGFyYW0gIHtpbnR9IGludCBbdGhlIHN0b3J5J3MgbGV2ZWxdXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gIFtjb3JyZXNwb25kaW5nIGxldmVsXVxuXHQgKi9cblx0bGV2ZWwoaW50KSB7XG5cdFx0bGV0IGkgPSBwYXJzZUludChpbnQpXG5cdFx0c3dpdGNoKGkpIHtcblx0XHRcdGNhc2UgMTogcmV0dXJuICdCZWdpbm5lcidcblx0XHRcdGNhc2UgMjogcmV0dXJuICdFYXN5J1xuXHRcdFx0Y2FzZSAzOiByZXR1cm4gJ0F2ZXJhZ2UnXG5cdFx0XHRjYXNlIDQ6IHJldHVybiAnQWR2YW5jZWQnXG5cdFx0XHRjYXNlIDU6IHJldHVybiAnRXhwZXJ0J1xuXHRcdH1cblx0fVxufSIsIlxuLy8gdGhlbWUgZnVuY3Rpb25zXG5tb2R1bGUuZXhwb3J0cyA9IHtcblxuXHRpc0NhY2hlZDogZnVuY3Rpb24gKElEKSB7XG5cdFx0cmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0JytJRCkgPyB0cnVlIDogZmFsc2Vcblx0fSxcblxuXHRjYWNoZTogZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndCcgKyBkYXRhLmlkLCBKU09OLnN0cmluZ2lmeShkYXRhKSlcblx0fSxcblxuXHRnZXQ6IGZ1bmN0aW9uICh0aGVtZUlELCBheGlvcywgY2FsbGJhY2spIHtcblx0XHRheGlvcy5nZXQoJ3RhZ3MvJyArIHRoZW1lSUQpLnRoZW4oIChyZXNwb25zZSkgPT4ge1xuXHRcdFx0dGhpcy5jYWNoZShyZXNwb25zZS5kYXRhKVxuXHRcdFx0Y2FsbGJhY2socmVzcG9uc2UuZGF0YSlcblx0XHR9KS5jYXRjaCgnZXJyb3InLCBmdW5jdGlvbiAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUud2FybihlcnJvcilcblx0XHRcdHJldHVybiBudWxsXG5cdFx0fSlcblx0fSxcblxuXHRzZXRET006IGZ1bmN0aW9uICh0aGVtZSwgc3RhdGUsIHN0b3J5LCBheGlvcykge1xuXHRcdC8vIHNldCB0aGUgZWxlbWVudCB0byB2aXNpYmxlXG5cdFx0Y29uc3QgdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGVtZS1tZXRhJylcblx0XHRzdGF0ZS5kcmlsbExldmVsID0gMSAvLyBub3QgaW1wbGVtZW50ZWRcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0LW1ldGEnKS5jbGFzc05hbWUgPSAnaGlkZGVuJ1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGVtZS1tZXRhJykuY2xhc3NOYW1lID0gJydcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RvcnknKS5jbGFzc05hbWUgPSAnaGlkZGVuJ1xuXG5cdFx0Ly8gc2V0IG1ldGEgZGVzY3JpcHRpb25cblx0XHR0LnF1ZXJ5U2VsZWN0b3JBbGwoJyN0aGVtZS1tZXRhX19oZWFkZXIgaDInKVswXS5pbm5lckhUTUwgPSB0aGVtZS5uYW1lXG5cdFx0dC5xdWVyeVNlbGVjdG9yQWxsKCcjdGhlbWUtbWV0YV9faGVhZGVyIHNwYW4nKVswXS5pbm5lckhUTUwgPSBzdGF0ZS5sZXZlbHN0cmluZ1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGVtZS1tZXRhX19jb250ZW50JykuaW5uZXJIVE1MID0gdGhlbWUuZGVzY3JpcHRpb25cblxuXHRcdC8vIHNldCBhc3luY1xuXHRcdHNldFRpbWVvdXQoIC8vICArICcmZmllbGRzPWlkLHRpdGxlLHN0b3JpZXNfZGVzY3JpcHRpb24nIDooXG5cdFx0XHRzdG9yeS5nZXRSZWxhdGVkU3Rvcmllcygnc3Rvcnk/dGFncz0nICsgdGhlbWUuaWQsIGZ1bmN0aW9uIChzdG9yaWVzKSB7XG5cdFx0XHRcdHZhciBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoZW1lLW1ldGFfX2xpc3QnKVxuXHRcdFx0XHRsaXN0LmNsYXNzTmFtZSA9ICdpc1JlZnJlc2hpbmcnXG5cdFx0XHRcdGxpc3QuaW5uZXJIVE1MID0gJydcblxuXHRcdFx0XHQvLyBjcmVhdGUgc3RvcnkgcHJldmlld3Ncblx0XHRcdFx0Zm9yICh2YXIgaSA9IHN0b3JpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHRsZXQgcyA9IHN0b3JpZXNbaV1cblxuXHRcdFx0XHRcdGxldCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG5cdFx0XHRcdFx0ZWwuY2xhc3NOYW1lID0gJ3N0b3J5J1xuXHRcdFx0XHRcdGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1zdG9yeScsIHMuaWQpXG5cdFx0XHRcdFx0ZWwuaW5uZXJIVE1MID0gJzxoMz4nICsgcy50aXRsZS5yZW5kZXJlZCArICc8L2gzPidcblx0XHRcdFx0XHQrICc8cD4nICsgcy5zdG9yaWVzX2Rlc2NyaXB0aW9uICsgJzwvcD4nXG5cdFx0XHRcdFx0KyAnPHAgY2xhc3M9XCJtZXRhXCI+PGI+TGV2ZWw6PC9iPiAnICsgc3RvcnkubGV2ZWwocy5zdG9yeV9sZXZlbCkgKyAnPC9wPic7XG5cblx0XHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhlbWUtbWV0YV9fbGlzdCcpLmFwcGVuZENoaWxkKGVsKVxuXG5cdFx0XHRcdFx0ZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRzdG9yeS5zaG93U3Rvcnkocywgc3RhdGUpXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LmNsYXNzTmFtZSA9ICcnXG5cdFx0XHR9LCBheGlvc1xuXHRcdCksIDApXG5cdH1cbn0iXX0=
